@model Fatec_Library.Models.Livro

@{
    ViewData["Title"] = "Acervo";
}

<div class="text-center">

    <section class="row">

        <div class="w-100 mb-5">
            <img src="~/assets/capa_bem_vindo.png" class="img-fluid" alt="Imagem de Bem-vindo à Fatec Library">
        </div>

        <!-- CARROSSEL 1 -->
        <div class="position-relative mb-5">
            <h3>Livros Recomendados</h3>

            <button class="btn btn-danger btn-left position-absolute top-50 start-0 translate-middle-y z-1 rounded-5" data-target="#carouselRecomendados"><i class="bi bi-arrow-left-circle"></i></button>

            <div id="carouselRecomendados" class="d-flex overflow-auto gap-3 p-2 scroll-container">
                @foreach (var livro in ViewBag.LivrosRecomendados)
                {
                    <div class="card" style="min-width: 250px;">
                        <img src="~/@livro.Capa_Livro" class="card-img-top" style="height: 370px;" />
                        <div class="card-body text-center">
                            <h5>@livro.Titulo</h5>
                            <p>@string.Join(", ", livro.Autores)</p>
                            <a href="@Url.Action("Details", new { id = livro.Id })" class="btn btn-danger">Ver mais</a>
                        </div>
                    </div>
                }
            </div>

            <button class="btn btn-danger position-absolute top-50 end-0 translate-middle-y btn-right rounded-5" data-target="#carouselRecomendados"><i class="bi bi-arrow-right-circle"></i></button>
        </div>

        <!-- CARROSSEL 2 -->
        <div class="position-relative mb-5">
            <h3>Novidades</h3>

            <button class="btn btn-danger btn-left position-absolute top-50 start-0 translate-middle-y z-1 rounded-5" data-target="#carouselNovidades"><i class="bi bi-arrow-left-circle"></i></button>

            <div id="carouselNovidades" class="d-flex overflow-auto gap-3 p-2 scroll-container">
                @foreach (var livro in ViewBag.novidades)
                {
                    <div class="card" style="min-width: 250px;">
                        <img src="~/@livro.Capa_Livro" class="card-img-top" style="height: 370px;" />
                        <div class="card-body text-center">
                            <h5>@livro.Titulo</h5>
                            <p>@string.Join(", ", livro.Autores)</p>
                            <a href="@Url.Action("Details", new { id = livro.Id })" class="btn btn-danger">Ver mais</a>
                        </div>
                    </div>
                }
            </div>

            <button class="btn btn-danger position-absolute top-50 end-0 translate-middle-y btn-right rounded-5" data-target="#carouselNovidades"><i class="bi bi-arrow-right-circle"></i></button>
        </div>

        <!-- CARROSSEL 3 -->
        <div class="position-relative mb-5">
            <h3>Livros mais Emprestado</h3>

            <button class="btn btn-danger btn-left position-absolute top-50 start-0 translate-middle-y z-1 rounded-5" data-target="#carouselEmprestado"><i class="bi bi-arrow-left-circle"></i></button>

            <div id="carouselEmprestado" class="d-flex overflow-auto gap-3 p-2 scroll-container">
                @foreach (var livro in ViewBag.maisEmprestados)
                {
                    <div class="card" style="min-width: 250px;">
                        <img src="~/@livro.Capa_Livro" class="card-img-top" style="height: 370px;" />
                        <div class="card-body text-center">
                            <h5>@livro.Titulo</h5>
                            <p>@string.Join(", ", livro.Autores)</p>
                            <a href="@Url.Action("Details", new { id = livro.Id })" class="btn btn-danger">Ver mais</a>
                        </div>
                    </div>
                }
            </div>

            <button class="btn btn-danger position-absolute top-50 end-0 translate-middle-y btn-right rounded-5" data-target="#carouselEmprestado"><i class="bi bi-arrow-right-circle"></i></button>
        </div>

        <!-- CARROSSEL 4 -->
        <div class="position-relative mb-5">
            <h3>Livros da Área da Tecnologia</h3>

            <button class="btn btn-danger btn-left position-absolute top-50 start-0 translate-middle-y z-1 rounded-5" data-target="#carouselAreaTecnologia"><i class="bi bi-arrow-left-circle"></i></button>

            <div id="carouselAreaTecnologia" class="d-flex overflow-auto gap-3 p-2 scroll-container">
                @foreach (var livro in ViewBag.livrosAreaTecnologia)
                {
                    <div class="card" style="min-width: 250px;">
                        <img src="~/@livro.Capa_Livro" class="card-img-top" style="height: 370px;" />
                        <div class="card-body text-center">
                            <h5>@livro.Titulo</h5>
                            <p>@string.Join(", ", livro.Autores)</p>
                            <a href="@Url.Action("Details", new { id = livro.Id })" class="btn btn-danger">Ver mais</a>
                        </div>
                    </div>
                }
            </div>

            <button class="btn btn-danger position-absolute top-50 end-0 translate-middle-y btn-right rounded-5" data-target="#carouselAreaTecnologia"><i class="bi bi-arrow-right-circle"></i></button>
        </div>


    </section>

</div>

@section Scripts {
    <style>
        .scroll-container {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

            .scroll-container::-webkit-scrollbar {
                display: none;
            }
    </style>

    <script>
        const scrollAmount = 300;

        document.querySelectorAll('.btn-left').forEach(button => {
            button.addEventListener('click', () => {
                const target = document.querySelector(button.dataset.target);
                target.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            });
        });

        document.querySelectorAll('.btn-right').forEach(button => {
            button.addEventListener('click', () => {
                const target = document.querySelector(button.dataset.target);
                target.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            });
        });
    </script>
}

